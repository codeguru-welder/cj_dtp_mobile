<!DOCTYPE html>
<html>
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <meta charset="utf-8" />
    <meta
      content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"
      name="viewport"
    />
    <title>맞춤복지설정(기본)</title>

    <!-- css load -->
    <link href="../../resource/css/common.css" rel="stylesheet" />
    <link href="../../resource/css/style.css" rel="stylesheet" />
    <!-- //css load -->
  </head>
  <body>
    <!-- 헤더-->
    <div class="header">
      <a class="back_btn" id="go_back"><i class="fas fa-arrow-left"></i></a
      ><span class="h_title">맞춤복지 설정</span>
    </div>

    <!-- content-->
    <div class="content_wrap">
      <!-- 탭버튼-->
      <div class="tab_btn_wrap">
        <span class="tab_btn active" data-target="basic">기본</span>
        <span
          style="
            display: inline-block;
            height: 34px;
            line-height: 34px;
            text-align: center;
            background-color: #fff;
            color: #8c8c8c;
            border: solid 1px #d2d2d2;
            font-size: 15px;
            border-radius: 40px;
            margin-right: 10px;
            padding: 0 10px;
            width: 115px;
          "
          id="detail_setting"
        >
          상세정보</span
        >
      </div>
      <!-- 기본 탭 내용-->
      <div class="tab_content" id="basic" style="display: block">
        <div class="g_txt">맞춤복지 검색을 위한 기본정보를 입력해 주세요.</div>
        <br />
        <!-- 성별 -->
        <div class="title">성별</div>
        <div class="radio_tab_wrap">
          <input type="radio" name="sex" id="male" checked="checked" /><label
            for="male"
            >남자</label
          >
          <input type="radio" name="sex" id="female" /><label for="female"
            >여자</label
          >
        </div>
        <br />
        <!-- 국적 -->
        <div class="title">국적</div>
        <div class="radio_tab_wrap">
          <input
            type="radio"
            name="nationality"
            id="domestic"
            checked="checked"
          /><label for="domestic">내국인</label>
          <input type="radio" name="nationality" id="foreigner" /><label
            for="foreigner"
            >외국인</label
          >
        </div>
        <br />
        <!-- 거주지역 / 거주기간-->
        <div class="residence_wrap">
          <div>
            <div class="title">거주지역</div>
            <select name="residential_area" id="area">
              <option value="" selected>선택</option>
              <option value="01">가평군</option>
              <option value="02">고양시</option>
              <option value="03">과천시</option>
              <option value="04">광명시</option>
              <option value="05">광주시</option>
              <option value="06">구리시</option>
              <option value="07">군포시</option>
              <option value="08">김포시</option>
              <option value="09">남양주시</option>
              <option value="10">동두천시</option>
              <option value="11">부천시</option>
              <option value="12">성남시</option>
              <option value="13">수원시</option>
              <option value="14">시흥시</option>
              <option value="15">안산시</option>
              <option value="16">안성시</option>
              <option value="17">안양시</option>
              <option value="18">양주시</option>
              <option value="19">양평군</option>
              <option value="20">여주시</option>
              <option value="21">연천군</option>
              <option value="22">오산시</option>
              <option value="23">용인시</option>
              <option value="24">의왕시</option>
              <option value="25">의정부시</option>
              <option value="26">이천시</option>
              <option value="27">파주시</option>
              <option value="28">평택시</option>
              <option value="29">포천시</option>
              <option value="30">화성시</option>
              <option value="31">하남시</option>
            </select>
          </div>
          <div>
            <div class="title">경기도 거주기간</div>
            <!-- <input type="number" class="ess" id="duration" /> -->
            <select
              style="width: 88%"
              name="residential_duration"
              id="duration"
            >
              <option value="" selected>선택</option>
              <option value="01">1</option>
              <option value="02">2</option>
              <option value="03">3</option>
              <option value="04">4</option>
              <option value="05">5</option>
              <option value="06">6</option>
              <option value="07">7</option>
              <option value="08">8</option>
              <option value="09">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
              <option value="32">32</option>
              <option value="33">33</option>
              <option value="34">34</option>
              <option value="35">35</option>
              <option value="36">36</option>
              <option value="37">37</option>
              <option value="38">38</option>
              <option value="39">39</option>
              <option value="40">40</option>
              <option value="41">41</option>
              <option value="42">42</option>
              <option value="43">43</option>
              <option value="44">44</option>
              <option value="45">45</option>
              <option value="46">46</option>
              <option value="47">47</option>
              <option value="48">48</option>
              <option value="49">49</option>
              <option value="50">50</option>
              <option value="51">51</option>
              <option value="52">52</option>
              <option value="53">53</option>
              <option value="54">54</option>
              <option value="55">55</option>
              <option value="56">56</option>
              <option value="57">57</option>
              <option value="58">58</option>
              <option value="59">59</option>
              <option value="60">60</option>
              <option value="61">61</option>
              <option value="62">62</option>
              <option value="63">63</option>
              <option value="64">64</option>
              <option value="65">65</option>
              <option value="66">66</option>
              <option value="67">67</option>
              <option value="68">68</option>
              <option value="69">69</option>
              <option value="70">70</option>
              <option value="71">71</option>
              <option value="72">72</option>
              <option value="73">73</option>
              <option value="74">74</option>
              <option value="75">75</option>
              <option value="76">76</option>
              <option value="77">77</option>
              <option value="78">78</option>
              <option value="79">79</option>
              <option value="80">80</option>
              <option value="81">81</option>
              <option value="82">82</option>
              <option value="83">83</option>
              <option value="84">84</option>
              <option value="85">85</option>
              <option value="86">86</option>
              <option value="87">87</option>
              <option value="88">88</option>
              <option value="89">89</option>
              <option value="90">90</option>
              <option value="91">91</option>
              <option value="92">92</option>
              <option value="93">93</option>
              <option value="94">94</option>
              <option value="95">95</option>
              <option value="96">96</option>
              <option value="97">97</option>
              <option value="98">98</option>
              <option value="99">99</option>
            </select>
            <span>년</span>
          </div>
        </div>
        <br />
        <!-- 가구상황(선택,중복가능) -->
        <div class="family_chk_wrap">
          <div class="title">유공자</div>
          <select name="" id="merit">
            <option value="" selected>선택</option>
            <option value="01">독립유공자</option>
            <option value="02">국가유공자</option>
            <option value="03">보훈대상유공자</option>
            <option value="04">참전유공자</option>
            <option value="05">5.18 민주유공자</option>
            <option value="06">고엽제 후유증</option>
            <option value="07">특수임무유공자</option>
            <option value="08">제대군인</option>
          </select>
          <div class="title">직업</div>
          <select name="" id="job">
            <option value="" selected>선택</option>
            <option value="01">직장인</option>
            <option value="02">학생</option>
            <option value="03">취업준비생</option>
            <option value="04">창업준비생</option>
            <option value="05">개인사업자</option>
            <option value="06">법인사업자</option>
            <option value="07">주부</option>
            <option value="09">기타(단체 등)</option>
          </select>
          <div class="title">구분</div>
          <select name="" id="kind">
            <option value="" selected>선택</option>
            <option value="01">여성</option>
            <option value="02">장애인</option>
            <option value="03">노인</option>
            <option value="04">영유아</option>
            <option value="05">학부모</option>
            <option value="06">기타</option>
          </select>
          <div class="title">거주형태</div>
          <select name="" id="dwelling">
            <option value="" selected>선택</option>
            <option value="01">아파트</option>
            <option value="02">연립주택</option>
            <option value="03">다세대주택</option>
            <option value="04">다가구주택</option>
            <option value="05">다중주택</option>
            <option value="06">단독주택</option>
            <option value="07">기타</option>
          </select>
        </div>
        <br />
      </div>
    </div>
    <!-- 공통 버튼 -->
    <div class="btn_wrap" id="save_MyData">
      <button type="submit" class="common_btn">저장</button>
    </div>

    <!-- js load -->
    <script src="../../resource/js/jquery-3.3.1.min.js"></script>
    <script src="../../resource/js/all.min.js"></script>
    <script src="../../resource/js/common.js"></script>
    <script
      type="text/javascript"
      src="../../vendor/miaps/js/miaps_hybrid.js"
    ></script>
    <script
      type="text/javascript"
      src="../../vendor/miaps/js/miaps_page.js"
    ></script>
    <!--// js load -->

    <script>
      $(function ($) {
        init();
      });

      function init() {
        miaps.mobile(
          {
            type: "loadvalue",
            param: ["welfare_setting"],
          },
          function (data) {
            var obj = miaps.parse(data);
            var _data = obj.res.welfare_setting;
            // var _arr_set = _data.parse(_data);

            console.log(_data);

            if (_data != null && _data != "") {
              var obj_set = JSON.parse(_data);
              if (obj_set.sex == "male") {
                $("input:radio[id=male]").prop("checked", true);
              } else {
                $("input:radio[id=female]").prop("checked", true);
              }
              if (obj_set.nationality == "domestic") {
                $("input:radio[id=domestic]").prop("checked", true);
              } else {
                $("input:radio[id=foreigner]").prop("checked", true);
              }
              $("#area").val(obj_set.area).prop("selected", true);
              $("#duration").val(obj_set.duration).prop("selected", true);
              $("#merit").val(obj_set.merit).prop("selected", true);
              $("#job").val(obj_set.job).prop("selected", true);
              $("#kind").val(obj_set.kind).prop("selected", true);
              $("#dwelling").val(obj_set.dwelling).prop("selected", true);
            }
          }
        );
      }

      $("#go_back").on("click", function (e) {
        e.preventDefault();
        miapsPage.back();
      });
      $("#save_MyData").on("click", function (e) {
        e.preventDefault();

        var obj_set = {
          sex: $('input[name="sex"]:checked').attr("id"),
          nationality: $('input[name="nationality"]:checked').attr("id"),
          area: $("#area option:selected").val(),
          duration: $("#duration option:selected").val(),
          merit: $("#merit option:selected").val(),
          job: $("#job option:selected").val(),
          kind: $("#kind option:selected").val(),
          dwelling: $("#dwelling option:selected").val(),
        };

        var json_set = JSON.stringify(obj_set);
        miaps.mobile(
          {
            type: "savevalue",
            param: { welfare_setting: json_set },
          },
          function (data) {
            console.log(data);
          }
        );

        miapsPage.go("WF030", "view/WF/WF031.html", {}, "replace"); // 맞춤 복지 목록
      });
      $("#btn_certificate, #btn_address, #detail_setting").on(
        "click",
        function (e) {
          e.preventDefault();
          msgbox_toast("준비중입니다.");
        }
      );
    </script>
    <!-- 주소 검색팝업 인클루드 필요 CM030 -->
  </body>
</html>
